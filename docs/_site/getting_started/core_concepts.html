<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul:nth-of-type(4) > li > ul > li:not(:nth-child(4)) > a, .site-nav > ul:nth-of-type(4) > li > ul > li > ul > li > a, .site-nav > ul:nth-of-type(4) > li > ul > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul:not(:nth-of-type(4)) a, .site-nav li.external a { background-image: none; } .site-nav > ul:nth-of-type(4) > li > ul > li:nth-child(4) > a { font-weight: 600; text-decoration: none; } .site-nav > ul.nav-category-list > li > button svg, .site-nav > ul:nth-of-type(4) > li > ul > li:nth-child(4) > button svg { transform: rotate(-90deg); } .site-nav > ul.nav-category-list > li.nav-list-item > ul.nav-list, .site-nav > ul:nth-of-type(4) > li > ul > li.nav-list-item:nth-child(4) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/assets/SmarkForm_favicon.png" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Core Concepts | SmarkForm</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Core Concepts" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Core Concepts" /> <meta property="og:description" content="Core Concepts" /> <link rel="canonical" href="http://0.0.0.0:4000/getting_started/core_concepts" /> <meta property="og:url" content="http://0.0.0.0:4000/getting_started/core_concepts" /> <meta property="og:site_name" content="SmarkForm" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2024-07-08T23:24:09+02:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Core Concepts" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-07-08T23:24:09+02:00","datePublished":"2024-07-08T23:24:09+02:00","description":"Core Concepts","headline":"Core Concepts","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/getting_started/core_concepts"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4000/assets/SmarkForm_logo.png"}},"url":"http://0.0.0.0:4000/getting_started/core_concepts"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="SmarkForm"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://www.npmjs.com/package/smarkform" class="nav-list-link external" > NPM <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li><li class="nav-list-item external"> <a href="https://github.com/bitifet/SmarkForm" class="nav-list-link external" > GitHub <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li><li class="nav-list-item external"> <a href="https://codepen.io/collection/YyvbPz" class="nav-list-link external" > CodePen <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection About SmarkForm" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">About SmarkForm</div> <ul class="nav-list"><li class="nav-list-item"><a href="/about/about_smarkform" class="nav-list-link">About SmarkForm</a></li><li class="nav-list-item"><a href="/about/features" class="nav-list-link">Features</a></li><li class="nav-list-item"><a href="/about/history" class="nav-list-link">History</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection Getting Started" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">Getting Started</div> <ul class="nav-list"><li class="nav-list-item"><a href="/getting_started/quick_start" class="nav-list-link">Quick Start</a></li><li class="nav-list-item"><a href="/getting_started/getting_smarkform" class="nav-list-link">Getting SmarkForm</a></li><li class="nav-list-item"><a href="/getting_started/first_steps" class="nav-list-link">First Steps</a></li><li class="nav-list-item"><a href="/getting_started/core_concepts" class="nav-list-link">Core Concepts</a></li><li class="nav-list-item"><a href="/getting_started/core_component_types" class="nav-list-link">Core Component Types</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection Component Types" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">Component Types</div> <ul class="nav-list"><li class="nav-list-item"><a href="/component_types/type_form" class="nav-list-link">«form» Component Type</a></li><li class="nav-list-item"><a href="/component_types/type_list" class="nav-list-link">«list» Component Type</a></li><li class="nav-list-item"><a href="/component_types/type_input" class="nav-list-link">«input» Component Type</a></li><li class="nav-list-item"><a href="/component_types/type_number" class="nav-list-link">«number» Component Type</a></li><li class="nav-list-item"><a href="/component_types/type_date" class="nav-list-link">«date» Component Type</a></li><li class="nav-list-item"><a href="/component_types/type_select" class="nav-list-link">«select» Component Type</a></li><li class="nav-list-item"><a href="/component_types/type_trigger" class="nav-list-link">«trigger» Component Type</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection Importing and Exporting data" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">Importing and Exporting data</div> <ul class="nav-list"><li class="nav-list-item"><a href="/api_import_and_export/api_import_and_export" class="nav-list-link">Importing and Exporting Data</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection The API Interface" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">The API Interface</div> <ul class="nav-list"><li class="nav-list-item"><a href="/the_api_interface/the_api_interface" class="nav-list-link">The API Interface</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection Event Handling" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">Event Handling</div> <ul class="nav-list"><li class="nav-list-item"><a href="/events/events" class="nav-list-link">Event Handling</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection Resources" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">Resources</div> <ul class="nav-list"><li class="nav-list-item"><a href="/resources/download" class="nav-list-link">Download</a></li><li class="nav-list-item"><a href="/resources/CDN" class="nav-list-link">CDN</a></li><li class="nav-list-item"><a href="/resources/examples" class="nav-list-link">Examples</a></li><li class="nav-list-item"><a href="/resources/CodePen" class="nav-list-link">CodePen</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection Roadmap" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">Roadmap</div> <ul class="nav-list"><li class="nav-list-item"><a href="/roadmap/status" class="nav-list-link">Status</a></li><li class="nav-list-item"><a href="/roadmap/roadmap" class="nav-list-link">RoadMap</a></li><li class="nav-list-item"><a href="/roadmap/TODO" class="nav-list-link">TO-DO List</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection Community" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">Community</div> <ul class="nav-list"><li class="nav-list-item"><a href="/community/support" class="nav-list-link">Support</a></li><li class="nav-list-item"><a href="/community/contributing" class="nav-list-link">Contributing</a></li><li class="nav-list-item"><a href="/community/license" class="nav-list-link">License</a></li><li class="nav-list-item"><a href="/community/contact" class="nav-list-link">Contact</a></li></ul> </li> </ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search SmarkForm" aria-label="Search SmarkForm" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <style> .site-button.active { font-weight: bold; } </style> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="/" class="site-button " > 🏠 Home </a> </li> <li class="aux-nav-list-item"> <a href="/getting_started/quick_start" class="site-button " > ⚡ Quick Start </a> </li> <li class="aux-nav-list-item"> <a href="/resources/examples" class="site-button " > 🔍 Examples </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="core-concepts"> <a href="#core-concepts" class="anchor-heading" aria-labelledby="core-concepts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Core Concepts </h1> <details> <summary> <strong>📖 Table of Contents</strong> </summary> <!-- vim-markdown-toc GitLab --> <ul> <li><a href="#forms-lists-and-fields">Forms, Lists and Fields</a> <ul> <li><a href="#fields">Fields</a></li> <li><a href="#component-nesting">Component nesting</a></li> <li><a href="#lists">Lists</a></li> <li><a href="#triggers">Triggers</a></li> <li><a href="#triggers-target">Triggers target</a></li> <li><a href="#behaviour-tunning">Behaviour tunning</a></li> <li><a href="#constraining-lists">Constraining lists</a></li> <li><a href="#singletons">Singletons</a></li> <li><a href="#addressability">Addressability</a></li> <li><a href="#more">More…</a></li> </ul> </li> <li><a href="#the-data-smark-attribute">The <code class="language-plaintext highlighter-rouge">data-smark</code> Attribute</a> <ul> <li><a href="#syntax">Syntax</a></li> <li><a href="#shorthand-syntaxes">Shorthand Syntaxes</a> <ul> <li><a href="#string-value">String Value</a></li> <li><a href="#no-value-at-all">No value at all</a></li> </ul> </li> </ul> </li> <li><a href="#mandatory-properties">Mandatory properties</a></li> <li><a href="#components-and-actions">Components and Actions</a> <ul> <li><a href="#components">Components</a></li> <li><a href="#actions">Actions</a></li> <li><a href="#trigger-components">Trigger Components</a></li> </ul> </li> <li><a href="#accessing-components">Accessing Components</a></li> </ul> <!-- vim-markdown-toc --> </details> <blockquote class="warning"> <p>The code examples in this section have been designed to provide a clearer understanding of the concepts they illustrate.</p> <p>In most real-world scenarios, these examples may not be the best choices.</p> <p>For instance, we will seldom need to use onRendered callbacks, as all form interactions will be handled through <em>trigger</em> components.</p> </blockquote> <h2 id="forms-lists-and-fields"> <a href="#forms-lists-and-fields" class="anchor-heading" aria-labelledby="forms-lists-and-fields"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Forms, Lists and Fields </h2> <p>When we initialize a <em>SmarkForm</em> instance over some DOM element, it is enhanced as <strong>a <em>SmarkForm</em> form</strong> component which is returned as our <em>root form</em>.</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">myForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SmarkForm</span><span class="p">(</span><span class="nx">some_DOM_element</span><span class="p">);</span> <span class="c1">// Or myRootForm</span>
</code></pre></div></div> <p>👉 Then, every inner DOM element with a <em>data-smark</em> attribute, will be enhanced as another SmarkForm component. No matter if it is a direct child or a descendant of any depth.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">'myForm'</span><span class="nt">&gt;</span> <span class="c">&lt;!-- SmarkForm Component --&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'userId'</span> <span class="na">data-smark</span><span class="nt">&gt;</span> <span class="c">&lt;!-- SmarkForm Component --&gt;</span>
  <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'name'</span> <span class="na">data-smark</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- SmarkForm Component --&gt;</span> 
    <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'surname'</span> <span class="na">data-smark</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- SmarkForm Component --&gt;</span> 
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;script&gt;</span>
    <span class="kd">const</span> <span class="nx">myForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SmarkForm</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myForm</span><span class="dl">"</span><span class="p">));</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div> <h3 id="fields"> <a href="#fields" class="anchor-heading" aria-labelledby="fields"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Fields </h3> <p>👉 <strong>Every <em>SmarkForm</em> component (except <em>triggers</em>) is a form field</strong> from and to which <strong>we can import and export values</strong>.</p> <p>So our <em>root form</em> is also a <em>field</em> (of type “form”) from and to which we can import and export <em>values</em> (JSON objects).</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">myForm</span><span class="p">.</span><span class="nf">onRendered</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="k">export</span><span class="p">().</span><span class="nf">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
  <span class="c1">// { "userId": "", "name": "", "surname": "" }</span>
  <span class="k">this</span><span class="p">.</span><span class="k">import</span><span class="p">({</span><span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">John</span><span class="dl">"</span><span class="p">})</span>
    <span class="p">.</span><span class="nf">then</span><span class="p">(()</span><span class="o">=&gt;</span><span class="k">this</span><span class="p">.</span><span class="k">export</span><span class="p">())</span>
    <span class="p">.</span><span class="nf">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">)</span>
  <span class="p">;</span>
  <span class="c1">// { "userId": "", "name": "John", "surname": "" }</span>
<span class="p">});</span>
</code></pre></div></div> <blockquote class="info"> <p>Alternatively, you can enhance readability by providing the onRendered callback through the options object and/or using an async function.</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">myForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SmarkForm</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myForm</span><span class="dl">"</span><span class="p">),</span> <span class="p">{</span>
    <span class="k">async</span> <span class="nf">onRendered</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="k">export</span><span class="p">());</span>
        <span class="c1">// { "userId": "", "name": "", "surname": "" }</span>
        <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="k">import</span><span class="p">({</span><span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">John</span><span class="dl">"</span><span class="p">});</span>
        <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="k">export</span><span class="p">());</span>
        <span class="c1">// { "userId": "", "name": "John", "surname": "" }</span>
    <span class="p">},</span>
<span class="p">});</span>
</code></pre></div> </div> </blockquote> <h3 id="component-nesting"> <a href="#component-nesting" class="anchor-heading" aria-labelledby="component-nesting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Component nesting </h3> <p>👉 This also mean <strong>we can nest forms</strong> inside other forms as regular fields (holding JSON objects) with no depth limit.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">'myForm'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'userId'</span> <span class="na">value=</span><span class="s">'0001'</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">data-smark=</span><span class="s">'{"type":"form","name":"personal_data"}'</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'name'</span> <span class="na">value=</span><span class="s">'John'</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'surname'</span> <span class="na">value=</span><span class="s">'Doe'</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;script&gt;</span>
    <span class="kd">const</span> <span class="nx">myForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SmarkForm</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myForm</span><span class="dl">"</span><span class="p">),</span> <span class="p">{</span>
        <span class="k">async</span> <span class="nf">onRendered</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="k">export</span><span class="p">());</span>
            <span class="c1">// { "userId": "0001", "personal_data": { "name": "John", "surname": "Doe" } }</span>
        <span class="p">}</span>
    <span class="p">});</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div> <h3 id="lists"> <a href="#lists" class="anchor-heading" aria-labelledby="lists"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Lists </h3> <p>👉 In case we need arrays, the <em>list</em> component type come to rescue: Likewise forms hold JSON objects, <strong>lists hold JSON arrays</strong>. So we are able to define simple HTML forms that can import and export any imaginable JSON data.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">data-smark=</span><span class="s">'{"type":"form","name":"personal_data"}'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'name'</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'surname'</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ul</span> <span class="na">data-smark=</span><span class="s">'{"type":"list","name":"pets", "sortable":true}'</span><span class="nt">&gt;</span>
    <span class="nt">&lt;li&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'species'</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'name'</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">data-smark=</span><span class="s">'{"action":"addItem","context":"pets"}'</span><span class="nt">&gt;</span>Add Pet<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">data-smark=</span><span class="s">'{"action":"removeItem","context":"pets"}'</span><span class="nt">&gt;</span>Remove Pet<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div> <blockquote class="info"> <p>To enable users to control the array’s length, the <em>list</em> component type offers the “addItem” and “removeItem” <em>actions</em>.</p> <p>👉 <em>Actions</em> are functions provided by component types for interaction. They can be triggered by components of the so-called “trigger” type, where the component acts as their <em>context</em>.</p> <p>👉 Trigger components have a (mandatory) <em>action</em> attribute which specifies the action to be triggered.</p> <p>👉 In order to improve readability, the <em>action</em> property is not allowed in any other component type and, hence, the <code class="language-plaintext highlighter-rouge">"type": "trigger"</code> become optional (and discouraged).</p> </blockquote> <h3 id="triggers"> <a href="#triggers" class="anchor-heading" aria-labelledby="triggers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Triggers </h3> <p>👉 <em>Trigger</em> components have a “natural context” which is the closest <em>SmarkForm</em> component conaining it (That is: <em>personal_data</em> subform in previous example) but its actual <em>context</em> is the closest component <strong>implementing that action</strong> unless overridden by the <em>context</em> property.</p> <p>The <em>context</em> property specifies the <em>relative path</em>, from its <em>natural context</em> to the actual context of the trigger.</p> <h3 id="triggers-target"> <a href="#triggers-target" class="anchor-heading" aria-labelledby="triggers-target"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Triggers target </h3> <p>👉 Besides the <em>context</em>, <em>trigger</em> components may also have a <em>target</em> consisting of an inner component to which the specified action is performed.</p> <p>The target can be specified using the <em>to</em> property, but it can also have a default value depending on the context’s component type. In the case of <em>lists</em>, the default target is the list item that contains the <em>trigger</em> component (if it is contained within one) or the last item in the list otherwise. For example, when clicking the “Remove Pet” button in the previous example, the last pet in the list would be removed.</p> <p><strong>In other words:</strong> We can move the <em>removeItem</em> trigger button inside list items allowing users to cherry-pick which item to remove:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ul</span> <span class="na">data-smark=</span><span class="s">'{"type":"list","name":"pets"}'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'species'</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'name'</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">data-smark=</span><span class="s">'{"action":"removeItem"}'</span><span class="nt">&gt;</span>❌<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;button</span> <span class="na">data-smark=</span><span class="s">'{"action":"addItem","context":"pets"}'</span><span class="nt">&gt;</span>➕<span class="nt">&lt;/button&gt;</span>
<span class="c">&lt;!-- (Optionally we can keep both)
&lt;button data-smark='{"action":"removeItem","context":"pets"}'&gt;➖&lt;/button&gt;
--&gt;</span>
</code></pre></div></div> <blockquote class="info"> <p>Similarly, we could have placed an “addItem” button too inside the list item template. In that case, new items would be inserted <strong>after</strong> the item containing the button (its default target) unless if we set the <em>position</em> property to “before”.</p> <blockquote class="warning"> <p>But keep in mind that, if <em>minItems</em> (see <a href="#constraining-lists">Constraining lists</a> below…) is set to 0 you would need at least another <em>external</em> “addItem” button to be able to add items to the list when it is empty…</p> </blockquote> </blockquote> <h3 id="behaviour-tunning"> <a href="#behaviour-tunning" class="anchor-heading" aria-labelledby="behaviour-tunning"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Behaviour tunning </h3> <p>👉 A special case for the “to” property is specifying it as “*”. In this case, the <em>trigger</em> button’s target will be all items of the list.</p> <p>Which combined (or not) with the <em>keep_non_empty</em> property of <em>list</em> component type’s <em>removeItem</em> action, may lead to several interesting combinations:</p> <p>➡️ Remove last empty pet. If none is empty, remove last one:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span>
    <span class="na">data-smark=</span><span class="s">'{
        "action":"removeItem",
        "context":"pets",
        "keep_non_empty":true
    }'</span>
<span class="nt">&gt;</span>Remove Pet<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div> <p>➡️ Remove all pets with no filled data:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span>
    <span class="na">data-smark=</span><span class="s">'{
        "action":"removeItem",
        "context":"pets",
        "to":"*",
        "keep_non_empty":true
    }'</span>
<span class="nt">&gt;</span>Clear Empty Pets<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div> <p>➡️ Remove all pets unconditionally:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span>
    <span class="na">data-smark=</span><span class="s">'{
        "action":"removeItem",
        "context":"pets",
        "to":"*",
    }'</span>
<span class="nt">&gt;</span>Remove All Pets<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div> <h3 id="constraining-lists"> <a href="#constraining-lists" class="anchor-heading" aria-labelledby="constraining-lists"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Constraining lists </h3> <p>👉 By default, lists can hold any number of items, from 1 to infinite. But this can be overridden with <em>minItems</em> and <em>maxItems</em> properties. Example:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ul</span> <span class="na">data-smark=</span><span class="s">'{
    "type":"list",
    "name":"pets",
    "minItems": 0,
    "maxItems": 5,
}'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li&gt;</span>
    <span class="c">&lt;!-- ... --&gt;</span>
  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</code></pre></div></div> <h3 id="singletons"> <a href="#singletons" class="anchor-heading" aria-labelledby="singletons"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Singletons </h3> <p>👉 As we have seen, lists can hold any number of <em>subform</em> instances. But if we need a list of just scalar values such as text or numbers (<code class="language-plaintext highlighter-rouge">&lt;input&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;textarea&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;select&gt;</code>…) there will be no room for trigger components in list items to, say, remove given item.</p> <p>But the <em>input</em> component type can handle not only single <code class="language-plaintext highlighter-rouge">&lt;input&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;selext&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;textarea&gt;</code>tags but also any other tag surrounding a whole subform with the only restriction that only one actual field is allowed (and, in fact, required) inside but allowing the presence of any number of <em>trigger</em> components.</p> <p>This special behavior of the <em>input</em> component type is what we call a <em>singleton</em>, which adheres to the following rules:</p> <ul> <li>They only allow for a single non <em>trigger</em> component in it.</li> <li>Does not require (and it’s not advisable) to provide a name for that component.</li> <li>When imported or exported, they receive and return only the value ot that field.</li> </ul> <blockquote class="info"> <p>Not only <em>input</em> components are <em>singletons</em>. Also all other components inheriting from it (<em>number</em>, <em>date</em>…) work as singletons too.</p> </blockquote> <p><strong>Example:</strong></p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">data-smark=</span><span class="s">'{"type":"form","name":"personal_data"}'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'name'</span>  <span class="na">data-smark</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">'surname'</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ul</span> <span class="na">data-smark=</span><span class="s">'{"type":"list","name":"phones"}'</span><span class="nt">&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">data-smark=</span><span class="s">'{"type":"input"}'</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">placeholder=</span><span class="s">'Phone Number'</span> <span class="na">type=</span><span class="s">"tel"</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">data-smark=</span><span class="s">'{"action":"removeItem"}'</span><span class="nt">&gt;</span>❌<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">data-smark=</span><span class="s">'{"action":"addItem","context":"phones"}'</span><span class="nt">&gt;</span>➕<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div> <blockquote class="hint"> <p>This forced us to explicitly specify the <em>data-smark</em> property in the list item template. To avoid this we can use the “of” property of the list to specify the desired SmarkForm component type:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ul</span> <span class="na">data-smark=</span><span class="s">'{"type":"list","name":"phones","of":"input"}'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">placeholder=</span><span class="s">'Phone Number'</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">data-smark</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">data-smark=</span><span class="s">'{"action":"removeItem"}'</span><span class="nt">&gt;</span>❌<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</code></pre></div> </div> </blockquote> <h3 id="addressability"> <a href="#addressability" class="anchor-heading" aria-labelledby="addressability"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Addressability </h3> <p>In the previous examples we have seen the <em>context</em> and <em>to</em> properties that let us pointing to some <em>SmarkForm</em> component from another.</p> <p>It may seem we simply used the value of the <em>name</em> property of the field we want to point to. But, in fact, those were “directory-like” relative paths.</p> <p>We also mentioned that our root form is, in fact, a SmarkForm field that imports and exports JSON data.</p> <p>And all SmarkForm fields have a <code class="language-plaintext highlighter-rouge">.find()</code> method through which we can get any other fields of the form by providding a relative or absolute (starting with ‘/’ which points to our root).</p> <p><strong>Example:</strong>*</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">myForm</span><span class="p">.</span><span class="k">export</span><span class="p">().</span><span class="nf">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
<span class="c1">// {name:"",surname:"",phones:[""],pets:[{ species: '', name: '' } ] }</span>
<span class="kd">const</span> <span class="nx">firstPet</span> <span class="o">=</span> <span class="nx">myForm</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="dl">"</span><span class="s2">pets/0</span><span class="dl">"</span><span class="p">)</span>
<span class="nx">firstPet</span><span class="p">.</span><span class="k">export</span><span class="p">().</span><span class="nf">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
<span class="c1">// { species: '', name: '' } </span>

</code></pre></div></div> <!-- TODO: * Addressability: - Import and export given vectors. * AutoId... --> <h3 id="more"> <a href="#more" class="anchor-heading" aria-labelledby="more"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> More… </h3> <blockquote class="hint"> <p>Check out our <a href="/resources/examples">🔗 Complete Examples</a> section to better understand these concepts.</p> </blockquote> <h2 id="the-data-smark-attribute"> <a href="#the-data-smark-attribute" class="anchor-heading" aria-labelledby="the-data-smark-attribute"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The <code class="language-plaintext highlighter-rouge">data-smark</code> Attribute </h2> <p>The <code class="language-plaintext highlighter-rouge">data-smark</code> attribute is used in SmarkForm to identify and enhance specific DOM elements (HTML tags) as SmarkForm components. It also provides the required properties for their enhancement.</p> <blockquote class="warning"> <p>The terms <em>attribute</em> and <em>property</em> may lead to confussion.</p> <p>In this whole manual, we will consistently use <strong>the term <em>attribute</em> to refer <a href="https://www.w3schools.com/html/html_attributes.asp">HTML elemnts attributes</a></strong> and <strong>the term <em>property</em> to refer object properties</strong> and, specially SmarkForm components’s properties defined in their <em>data-smark</em> attribute.</p> </blockquote> <p>By using the <code class="language-plaintext highlighter-rouge">data-smark</code> attribute, you can mark elements to be transformed into SmarkForm components, while the remaining elements are ignored by SmarkForm.</p> <blockquote class="info"> <p>The following are <strong>exceptions to this rule:</strong></p> <ol> <li>The root element (the DOM element passed to the SmarkForm constructor to be enhanced as <em>SmarkForm</em>) is always considered a SmarkForm component.</li> <li>The item template of a list component, which is the only allowed direct child in the HTML source before rendering, will always be rendered (per each list item) as a SmarkForm component by default.</li> </ol> <p>👉 <strong>In both cases, the <code class="language-plaintext highlighter-rouge">data-smark</code> attribute can be omitted.</strong></p> </blockquote> <p><strong>Example:</strong></p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"myForm"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- Other form fields... --&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">data-smark=</span><span class="s">'{"name": "myList", "type": "list", "maxItems": 5}'</span><span class="nt">&gt;</span>
        <span class="nt">&lt;li&gt;</span>
            <span class="c">&lt;!-- Template describing list Item's layout --&gt;</span>
        <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
    <span class="c">&lt;!-- Other form fields... --&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
    <span class="kd">const</span> <span class="nx">myForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SmarkForm</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">myForm</span><span class="dl">"</span><span class="p">));</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div> <blockquote class="hint"> <p>In the previous example:</p> <ul> <li>The outer <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> does not need the <em>data-smark</em> property since it is the DOM element we enhanced as a <em>SmarkForm</em> root form field.</li> <li>The <code class="language-plaintext highlighter-rouge">&lt;li&gt;</code> element is the template that the <em>list</em> component will render as SmarkForm component every time a new item is added to the list.</li> </ul> </blockquote> <h3 id="syntax"> <a href="#syntax" class="anchor-heading" aria-labelledby="syntax"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Syntax </h3> <p>The <code class="language-plaintext highlighter-rouge">data-smark</code> attribute should contain a valid JSON object with following attributes:</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">type</code> <strong>(Mandatory):</strong> Which specifies the component type.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">name</code> <strong>(Recommended):</strong> Field name to identify the component in its form level. Defaults to the value of the <code class="language-plaintext highlighter-rouge">name</code> attribute of actual HTML tag. If none given, random generated valued will be used instead.</p> </li> <li> <p><em>(other…)</em>: Depending on actual component type…</p> </li> </ul> <blockquote class="info"> <p>📌 There are also exceptions to this rule:</p> <ol> <li> <p>Any component with the <code class="language-plaintext highlighter-rouge">action</code> property is of “trigger” type and hence the <em>type</em> property can be omitted.</p> </li> <li> <p><em>Trigger</em> components are not considered form fields and, therefore, they have no <em>name</em> property.</p> </li> </ol> </blockquote> <h3 id="shorthand-syntaxes"> <a href="#shorthand-syntaxes" class="anchor-heading" aria-labelledby="shorthand-syntaxes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Shorthand Syntaxes </h3> <p>For the sake of brevity, the <em>data-smark</em> attribute can also be specified in the following alternative ways:</p> <h4 id="string-value"> <a href="#string-value" class="anchor-heading" aria-labelledby="string-value"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> String Value </h4> <p>If only the type needs to be specified, it can be done as a regular string.</p> <p><strong>Example:</strong></p> <ul> <li><strong>Shorthand:</strong> <code class="language-plaintext highlighter-rouge">&lt;div data-smark="list"&gt;</code></li> <li><strong>Long Form:</strong> <code class="language-plaintext highlighter-rouge">&lt;div data-smark='{"type": "list"}'&gt;</code></li> </ul> <h4 id="no-value-at-all"> <a href="#no-value-at-all" class="anchor-heading" aria-labelledby="no-value-at-all"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> No value at all </h4> <p>Since component type can be infered from actual tag name and attributes, and field name can be provided as regular property, the whole <em>data-smark</em> attribute value can be omitted if we are happy with this inference:</p> <p><strong>Example:</strong></p> <ul> <li><strong>Shorthand:</strong> <code class="language-plaintext highlighter-rouge">&lt;textarea ... data-smark&gt;</code></li> <li><strong>Long Form:</strong> <code class="language-plaintext highlighter-rouge">&lt;textarea data-smark='{}&gt;</code></li> <li><strong>Equivalent (type infered) value:</strong> <code class="language-plaintext highlighter-rouge">&lt;textarea data-smark='{"type": "input"}&gt;</code></li> </ul> <h2 id="mandatory-properties"> <a href="#mandatory-properties" class="anchor-heading" aria-labelledby="mandatory-properties"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mandatory properties </h2> <p>The following properties are (nearly) mandatory:</p> <ul> <li> <p>The <code class="language-plaintext highlighter-rouge">type</code> property is always necessary to determine which component type controller should be used for rendering the component. In many cases, it can be inferred based on the tag name or the presence of the <code class="language-plaintext highlighter-rouge">action</code> property, which forces the type to be “trigger”.</p> </li> <li>The <code class="language-plaintext highlighter-rouge">name</code> property is required for all non-trigger components. <ul> <li>If not explicitly provided, it can be inferred from the <code class="language-plaintext highlighter-rouge">name</code> property of the tag being enhanced. For example, <code class="language-plaintext highlighter-rouge">&lt;input name="foo" data-smark&gt;</code>.</li> <li>If not provided and cannot be inferred, a randomly generated name will be used.</li> </ul> </li> <li>The <code class="language-plaintext highlighter-rouge">action</code> property is mandatory for all <a href="#trigger-components">components of the type “trigger”</a> to specify which <a href="actions">action</a> they actually trigger. In fact, the <code class="language-plaintext highlighter-rouge">type="trigger"</code> property itself is optional here having it is implied by the presence of the <code class="language-plaintext highlighter-rouge">action</code> property.</li> </ul> <p><strong>Other properties:</strong></p> <p>Depending on the actual component type other properties may be applicable.</p> <p>In case of <em>triggers</em>, despite <code class="language-plaintext highlighter-rouge">type</code>and <code class="language-plaintext highlighter-rouge">name</code>, is worth to mention that, except for the <code class="language-plaintext highlighter-rouge">context</code> and <code class="language-plaintext highlighter-rouge">to</code> properties</p> <p>FIXME: To be continued… //// ** … the rest of available properties depend on the type of its <a href="">context</a>…</p> <p>TODO: Link ‘context’ and ‘to’ to propper type_trigger.md section…</p> <h2 id="components-and-actions"> <a href="#components-and-actions" class="anchor-heading" aria-labelledby="components-and-actions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Components and Actions </h2> <h3 id="components"> <a href="#components" class="anchor-heading" aria-labelledby="components"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Components </h3> <p>A SmarkForm <em>component</em> is just a DOM element (HTML tag) which has a “data-smark” property providding a JSON-formatted <em>options</em> object.</p> <p>It looks like as follows:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;input</span> <span class="na">data-smark=</span><span class="s">'{type: "input"}'</span><span class="nt">/&gt;</span>
</code></pre></div></div> <blockquote class="info"> <p>📌 If only type option is specified, it can be simplified as:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;input</span> <span class="na">data-smark=</span><span class="s">'input'</span><span class="nt">/&gt;</span>
</code></pre></div> </div> <p>…or just leave it empty to let SmarkForm engine to figure out its type:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;input</span> <span class="na">data-smark</span><span class="nt">/&gt;</span>
</code></pre></div> </div> </blockquote> <h3 id="actions"> <a href="#actions" class="anchor-heading" aria-labelledby="actions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Actions </h3> <p><em>Actions</em> are operations that can be performed over components.</p> <p>Some of them such as <code class="language-plaintext highlighter-rouge">import</code>, <code class="language-plaintext highlighter-rouge">export</code> and <code class="language-plaintext highlighter-rouge">empty</code> are available for all components types while others are tied to secific types like <code class="language-plaintext highlighter-rouge">addItem</code> and <code class="language-plaintext highlighter-rouge">removeItem</code> for lists, etc…</p> <h3 id="trigger-components"> <a href="#trigger-components" class="anchor-heading" aria-labelledby="trigger-components"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Trigger Components </h3> <p><em>Trigger Components</em> are a special type of <em>component</em> that serve to trigger actions on another compoenent which we refer to it as its “context”.</p> <p>Any SmarkForm component whith an <em>action</em> property is a <a href="/component_types/type_trigger">Trigger Component</a> and for the sake of simplicity, its <em>type</em> property can be ommitted but it cannot take a different value than “trigger”.</p> <p><strong>Example:</strong></p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span> <span class="na">data-smark=</span><span class="s">'{action: "removeItem"}'</span><span class="nt">&gt;&lt;/button&gt;</span>
</code></pre></div></div> <blockquote class="hint"> <p>📖 For detailed information see <a href="/component_types/type_trigger">Trigger Type Documentation</a>.</p> </blockquote> <h2 id="accessing-components"> <a href="#accessing-components" class="anchor-heading" aria-labelledby="accessing-components"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Accessing Components </h2> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">form</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SmarkForm</span><span class="p">(</span>
    <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#main-form</span><span class="dl">"</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div><hr/> <!-- ](Break Markdown Syntax Hilighting misscompilance) --> <style> .bottom-bar { display: flex; justify-content: space-between; padding: 10px; bottom: 0; left: 0; width: 100%; } .bottom-bar .nav-link { display: flex; align-items: center; background: #eee; border-radius: .3em; max-width: 45%; } .bottom-bar .nav-link:hover { transform: translate(.1em, .1em); } .bottom-bar .nav-link:first-child .icon { padding: .5rem .7rem .5rem 1.5rem; } .bottom-bar .nav-link:first-child .text { padding: .5rem .5rem .5rem .7rem; text-align: right; } .bottom-bar .nav-link:last-child .icon { padding: .5rem 1.5rem .5rem .7rem; } .bottom-bar .nav-link:last-child .text { padding: .5rem .7rem .5rem .5rem; text-align: left; } .bottom-bar a , .bottom-bar a:link , .bottom-bar a:visited , .bottom-bar a:hover { text-decoration: none; display: flex; align-items: center; } .bottom-bar .icon { font-size: 2rem; display: flex; align-items: center; justify-content: center; } .bottom-bar .text { display: flex; flex-direction: column; } .bottom-bar .line { margin: 0; padding: 0; } .bottom-bar .bold { font-weight: bold; } .bottom-bar .prev-page { justify-content: flex-start; } .bottom-bar .next-page { justify-content: flex-end; } </style> <div class="bottom-bar"> <div class="nav-link"> <a href="/getting_started/first_steps"> <div class="icon">⏪</div> <div class="text"> <div class="line bold">Getting Started</div> <div class="line">First Steps</div> </div> </a> </div> <div class="nav-link"> <a href="/getting_started/core_component_types"> <div class="text"> <div class="line bold">Getting Started</div> <div class="line">Core Component Types</div> </div> <div class="icon">⏩</div> </a> </div> </div> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
