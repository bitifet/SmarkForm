doctype html
block properties
    -
        var CDN = (
            ! isProduction ? ".."
            : `https://cdn.jsdelivr.net/gh/bitifet/SmarkForm@${pkg.version}`
        );
        var css_layout=`${CDN}/examples/smarkform_layout_sample.css`;
        var css_styles=`${CDN}/examples/smarkform_styles_sample.css`;
        var js_smarkform=`${CDN}/dist/SmarkForm.umd.js`;
html
    head
        title=title
        meta(name="viewport" content="width=device-width, initial-scale=1.0")
        link(rel="stylesheet", href=css_layout)
        link(rel="stylesheet", href=css_styles)
        script.
            const bgImg = `https://picsum.photos/id/${1+Math.floor(Math.random()*1084)}/800.jpg`;
            document.documentElement.style.setProperty('--background-image-url', `url("${bgImg}")`);
            document.addEventListener("DOMContentLoaded", function() {
                const backgroundAnchor = document.getElementById("background-anchor");
                if (backgroundAnchor) {
                    backgroundAnchor.textContent = bgImg;
                    backgroundAnchor.href = bgImg;
                    backgroundAnchor.parentNode.classList.remove("hidden");
                    console.log(backgroundAnchor, bgImg);
                }

            });
        script(defer src=js_smarkform)
        include ./sample_controller.pug
    body
        div.main-container
            div#main-form.smarkForm
                header
                    h1=title
                    small
                        p
                            | This example demonstrates how to create a simple form
                            | layout that can almost responsively expand and stack
                            | depending on the width of the page.
                        p
                            span Background image courtesy of 
                            a(
                                href="https://picsum.photos/"
                                target="_blank"
                            ) https://picsum.photos/
                        p.hidden
                            b Url:
                            a#background-anchor(href="")

                block mainForm
